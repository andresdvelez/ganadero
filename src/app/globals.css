@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --shadow-island: 0 10px 40px rgba(0, 0, 0, 0.08),
    0 2px 10px rgba(0, 0, 0, 0.04);
  /* SON tokens */
  --son-primary-dark: #1a1b3a;
  --son-primary-medium: #2d2f5f;
  --son-primary-light: #4a4d7a;
  --son-accent: #6366f1;
  --son-light: #f8f9fa;
  --son-text-muted: #6b7280;
}

@layer utilities {
  .ios-surface {
    background: rgba(255, 255, 255, 0.72);
    -webkit-backdrop-filter: blur(24px);
    backdrop-filter: blur(24px);
    border: 1px solid rgba(255, 255, 255, 0.6);
    box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.9) inset,
      0 20px 40px rgba(15, 23, 42, 0.08);
  }
  .ios-toolbar {
    background: rgba(255, 255, 255, 0.66);
    -webkit-backdrop-filter: blur(16px);
    backdrop-filter: blur(16px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.6);
  }
  .island {
    border-radius: 24px;
    background: rgba(255, 255, 255, 0.85);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
    box-shadow: var(--shadow-island);
  }
  .bg-gradient-mesh {
    background-image: radial-gradient(
        at 40% 20%,
        hsla(228, 100%, 95%, 0.7) 0px,
        transparent 55%
      ),
      radial-gradient(at 80% 0%, hsla(189, 100%, 90%, 0.5) 0px, transparent 55%),
      radial-gradient(at 0% 50%, hsla(268, 100%, 96%, 0.6) 0px, transparent 55%);
  }
}

@layer components {
  @keyframes messageIn {
    from {
      transform: translateY(6px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  .animate-message {
    animation: messageIn 220ms cubic-bezier(0.22, 1, 0.36, 1);
  }
  .typing-dots {
    position: relative;
    width: 24px;
    height: 10px;
  }
  .typing-dots::before,
  .typing-dots::after,
  .typing-dots span {
    content: "";
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 6px;
    height: 6px;
    border-radius: 9999px;
    background: #9ca3af;
    animation: pulse 1s infinite ease-in-out;
  }
  .typing-dots::before {
    left: 0;
    animation-delay: 0ms;
  }
  .typing-dots span {
    left: 9px;
    animation-delay: 120ms;
  }
  .typing-dots::after {
    right: 0;
    animation-delay: 240ms;
  }
  @keyframes pulse {
    0%,
    80%,
    100% {
      opacity: 0.2;
    }
    40% {
      opacity: 1;
    }
  }
}
